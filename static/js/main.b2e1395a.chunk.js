(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{23:function(e,t,n){e.exports=n(36)},32:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(8),l=n.n(a),u=n(5),o=n(21),c=(n(32),n(22));var i,m="https://mate-academy.github.io/react_dynamic-list-of-posts/api/",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMENTS":return t.comments;default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return t.users;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.message;default:return e}},h=function(e){var t=e.name,n=e.email,r=e.address,a=r.street,l=r.city,u=r.suite;return s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("strong",null," Name: "),t),s.a.createElement("span",null,s.a.createElement("strong",null," Email: "),n),s.a.createElement("span",null," ",s.a.createElement("strong",null," Address: "),l,", ",a,", ",u))},g=(n(33),function(e){var t=e.comments;return s.a.createElement("ul",{className:"Comments"},t.map((function(e){return s.a.createElement("li",{key:e.name+e.body,className:"Comments__item"},s.a.createElement("p",null,s.a.createElement("strong",null,"Name: "),e.name),s.a.createElement("p",null,s.a.createElement("strong",null,"Comment: "),e.body),s.a.createElement("p",null,s.a.createElement("strong",null,"Email: "),e.email))})))}),v=function(e){var t=e.post,n=Object(u.c)((function(e){return e.users.find((function(e){return e.id===t.userId}))})),r=Object(u.c)((function(e){return e.comments.filter((function(e){return e.postId===t.id}))}));return s.a.createElement("div",{className:"Post"},s.a.createElement("h1",null,t.title),s.a.createElement("p",null,t.body),s.a.createElement(h,{name:n.name,email:n.email,address:n.address}),s.a.createElement(g,{comments:r}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_FIELD":return t.filterField;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTERED_POSTS":return t.filteredPosts;default:return e}},y=Object(u.b)((function(e){return{message:e.message,posts:e.posts,filterField:e.filterField,filteredPosts:e.filteredPosts}}),(function(e){return{setUsers:function(t){return e({type:"SET_USERS",users:t})},setComments:function(t){return e({type:"SET_COMMENTS",comments:t})},setPosts:function(t){return e({type:"SET_POSTS",posts:t})},setMessage:function(t){return e({type:"SET_MESSAGE",message:t})},setFilterField:function(t){return e(function(e){return{type:"SET_FILTER_FIELD",filterField:e}}(t))},setFilteredPosts:function(t){return e(function(e){return{type:"SET_FILTERED_POSTS",filteredPosts:e}}(t))}}}))((function(e){var t=e.setMessage,n=e.setComments,a=e.setPosts,l=e.setUsers,u=e.message,o=e.posts,d=e.filterField,f=e.setFilterField,E=e.filteredPosts,p=e.setFilteredPosts;return Object(r.useEffect)((function(){var e,t;e=function(){p(""===d?o:o.filter((function(e){return e.body.includes(d)||e.title.includes(d)})))},t=1e3,clearTimeout(i),i=setTimeout(e,t)}),[d,E,p,o]),s.a.createElement("div",null,"Loaded"===u?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"For filtering: "),s.a.createElement("input",{type:"text",value:d,onChange:function(e){f(e.target.value)}}),s.a.createElement("ul",null,E.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(v,{post:e}))})))):s.a.createElement("button",{onClick:function(){t("Is loading"),Promise.all([fetch(m+"posts.json").then((function(e){return e.json()})).then((function(e){return e})),fetch(m+"users.json").then((function(e){return e.json()})).then((function(e){return e})),fetch(m+"comments.json").then((function(e){return e.json()})).then((function(e){return e}))]).then((function(e){var r=Object(c.a)(e,3),s=r[0],u=r[1],o=r[2];n(o),a(s),p(s),l(u),t("Loaded")}))}},u))})),_=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"Redux list of posts"),s.a.createElement(y,null))},F=(n(12),n(18),n(4)),b=n(19),O=n(20),P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},j=Object(F.combineReducers)({loading:P,message:p,users:f,comments:d,posts:E,filterField:S,filteredPosts:T}),I=Object(F.createStore)(j,{message:"Press to load",loading:!1,posts:[],users:[],comments:[]},Object(b.composeWithDevTools)(Object(F.applyMiddleware)(O.a))),N=function(){return s.a.createElement(u.a,{store:I},s.a.createElement(o.a,null,s.a.createElement(_,null)))};l.a.render(s.a.createElement(N,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.b2e1395a.chunk.js.map