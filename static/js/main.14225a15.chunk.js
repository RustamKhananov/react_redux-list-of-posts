(this["webpackJsonpreact_redux-list-of-posts"]=this["webpackJsonpreact_redux-list-of-posts"]||[]).push([[0],{24:function(e,t,n){e.exports=n(36)},33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r,a=n(0),s=n.n(a),l=n(9),c=n.n(l),u=n(3),o=n(23),i=(n(33),n(16)),m="https://mate-academy.github.io/react_dynamic-list-of-posts/api/",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_FIELD_CHANGE":return t.filterField;default:return e}},d=n(5),E=n(21),p=n(22),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Press to load",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":case O:return t.message;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":case O:return t.users;default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":case O:return t.posts;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMENTS":case O:return t.comments;default:return e}},j=n(17),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_FIELD_CHANGE":return""===t.filterField?Object(j.a)(t.posts):t.posts.filter((function(e){return e.body.includes(t.filterField)||e.title.includes(t.filterField)}));case O:return Object(j.a)(t.posts);default:return e}},O="LOADING_FINISH",S=Object(d.combineReducers)({message:h,users:g,comments:b,posts:v,filterField:f,filteredPosts:y}),_=Object(d.createStore)(S,{message:"Press for start loading",users:[],comments:[],posts:[],filterField:"",filteredPosts:[]},Object(E.composeWithDevTools)(Object(d.applyMiddleware)(p.a))),F=function(e){var t=e.id,n=Object(u.c)((function(e){return e.users.filter((function(e){return e.id===t}))[0]})),r=n.address,a=r.street,l=r.city,c=r.suite,o=n.name,i=n.email;return s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("strong",null," Name: "),o),s.a.createElement("span",null,s.a.createElement("strong",null," Email: "),i),s.a.createElement("span",null,s.a.createElement("strong",null," Address: "),l,", ",a,", ",c))},I=(n(34),function(e){var t=e.postId,n=Object(u.c)((function(e){return e.comments.filter((function(e){return e.postId===t}))}));return s.a.createElement("ul",{className:"Comments"},n.map((function(e){return s.a.createElement("li",{key:e.name+e.body,className:"Comments__item"},s.a.createElement("p",null,s.a.createElement("strong",null,"Name: "),e.name),s.a.createElement("p",null,s.a.createElement("strong",null,"Comment: "),e.body),s.a.createElement("p",null,s.a.createElement("strong",null,"Email: "),e.email))})))}),T=function(e){var t=e.id,n=Object(u.c)((function(e){return e.filteredPosts.filter((function(e){return e.id===t}))[0]})),r=n.title,a=n.body,l=n.userId;return s.a.createElement("div",{className:"Post"},s.a.createElement("h1",null,r),s.a.createElement("p",null,a),s.a.createElement(F,{id:l}),s.a.createElement(I,{postId:t}))},N=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.message})),n=Object(u.c)((function(e){return e.filteredPosts})),l=Object(u.c)((function(e){return e.posts})),c=Object(a.useState)(""),o=Object(i.a)(c,2),f=o[0],d=o[1];return Object(a.useEffect)((function(){var t,n;t=function(){e(function(e,t){return{type:"FILTER_FIELD_CHANGE",filterField:e,posts:t}}(f,l))},n=1e3,clearTimeout(r),r=setTimeout(t,n)}),[f,e,l]),s.a.createElement("div",null,0!==n.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"For filtering: "),s.a.createElement("input",{type:"text",value:f,onChange:function(e){d(e.target.value)}}),s.a.createElement("ul",null,n.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(T,{id:e.id}))})))):s.a.createElement("button",{onClick:function(){e(function(e){return{type:"SET_MESSAGE",message:e}}("Loading....")),Promise.all([fetch(m+"posts.json").then((function(e){return e.json()})).then((function(e){return e})),fetch(m+"users.json").then((function(e){return e.json()})).then((function(e){return e})),fetch(m+"comments.json").then((function(e){return e.json()})).then((function(e){return e}))]).then((function(t){var n=Object(i.a)(t,3),r=n[0],a=n[1],s=n[2];e(function(e){var t=e.users,n=e.comments,r=e.posts,a=e.message;return{type:O,users:t,comments:n,posts:r,message:a}}({posts:r,users:a,comments:s,message:"Loaded"}))}))}},t))},w=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,"Redux list of posts"),s.a.createElement(N,null))},C=function(){return s.a.createElement(u.a,{store:_},s.a.createElement(o.a,null,s.a.createElement(w,null)))};c.a.render(s.a.createElement(C,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.14225a15.chunk.js.map